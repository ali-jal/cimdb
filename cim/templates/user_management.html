<!-- Links to 'base_logged_in.html' as a base template file (which inherits from the base.html) -->
{% extends 'base_logged_in.html' %}

<!-- Jinja2 Template Block for Head of Webpage -->
{% block head %}

{% endblock %}

<!-- Jinja2 Template Block for Body of Webpage -->
{% block body %}

<!-- Navigation bar -->
<div>
</div>

<div class="content">
	<div class="container">
	  <div class="row">
	  	<h5>Employee and Site Management</h5>

	  	<!-- User Filtering -->
	    <div class="col-4">
	      
				<div class='text-center'><h6>Filter Current Employees and Sites </h6></div>
	    	<div id="data-filtering">

				<form id="sc-data-filter" class="form-horizontal" action="">

					<div class="form-group row">
						<label for="emp_id" class="col-sm-4 col-form-label">Employee ID:</label>
						<div class="col-sm-8">
							<input type="text" name="emp_id" id="emp_id" placeholder="99999">
						</div>
					</div>

					<div class="form-group row">
						<label for="emp_fname" class="col-sm-4 col-form-label">Employee First Name: </label>
						<div class="col-sm-8">
							<input type="text" name="emp_fname" id="emp_fname" placeholder="John">
						</div>
					</div>

					<div class="form-group row">
						<label for="emp_lname" class="col-sm-4 col-form-label">Employee Last Name: </label>
						<div class="col-sm-8">
							<input type="text" name="emp_lname" id="emp_lname" placeholder="Doe">
						</div>
					</div>

					<div class="form-group row">
						<label for="emp_email" class="col-sm-4 col-form-label">Employee Email: </label>
						<div class="col-sm-8">
							<input type="text" name="emp_email" id="emp_email" placeholder="jsmith8@2fast4you.com">
						</div>
					</div>

					<div class="form-group row">
						<label for="sc_room" class="col-sm-4 col-form-label">Site ID: </label>
						<div class="col-sm-8">
							<input type="text" name="sc_room" id="sc_room" placeholder="99">
						</div>
					</div>
				
					<div class="inner-div">
						<input type="button" class="btn btn-primary" value="Filter" onclick=filterData() >
						<input type="button" class="btn btn-primary" value="Clear Filters" onclick=clearFilters() >
					</div>
				</form>
			</div>

		</hl>

		<div id="data-filtering">

				<div class='text-center'><h6>Add New Employee</h6></div>
					<form id="sc-data-filter" class="form-horizontal" action="">

									<div class="form-group row">
										<label for="emp_fname" class="col-sm-4 col-form-label">First Name: </label>
										<div class="col-sm-8">
											<input type="text" name="emp_fname" id="emp_fname" placeholder="John">
										</div>
									</div>

									<div class="form-group row">
										<label for="emp_lname" class="col-sm-4 col-form-label">Last Name: </label>
										<div class="col-sm-8">
											<input type="text" name="emp_lname" id="emp_lname" placeholder="Doe">
										</div>
									</div>

									<div class="form-group row">
										<label for="sc_room" class="col-sm-4 col-form-label">Site ID: </label>
										<div class="col-sm-8">
											<input type="text" name="sc_room" id="sc_room" placeholder="99">
										</div>
									</div>

									<div class="form-group row">
										<label for="sc_room" class="col-sm-4 col-form-label">Group: </label>
										<div class="col-sm-8">
											<select class="custom-select col-sm-9" id="new_rc_site" required>
												<option selected>Select Group: </option>
											    <option value='Production'>Production</option>
											    <option value='Supervisor'>Supervisor</option>
											</select>
										</div>
									</div>
				
					<div class="inner-div text-center">
						<input type="button" class="btn btn-success" value="Add Employee" onclick=addEmployee() >
					</div>
				</form>
			</div>

		<div id="data-filtering">

						
						<div class='text-center'><h6>Add New Site</h6></div>
					<form id="sc-data-filter" class="form-horizontal" action="">

									<div class="form-group row">
										<label for="emp_fname" class="col-sm-4 col-form-label">Address: </label>
										<div class="col-sm-8">
											<input type="text" name="emp_fname" id="emp_fname" placeholder="123 Main Street">
										</div>
									</div>

									<div class="form-group row">
										<label for="emp_lname" class="col-sm-4 col-form-label">Address 2: </label>
										<div class="col-sm-8">
											<input type="text" name="emp_lname" id="emp_lname" placeholder="Suite 500">
										</div>
									</div>

									<div class="form-group row">
										<label for="sc_room" class="col-sm-4 col-form-label">City: </label>
										<div class="col-sm-8">
											<input type="text" name="sc_room" id="sc_room" placeholder="San Jose">
										</div>
									</div>

									<div class="form-group row">
										<label for="sc_room" class="col-sm-4 col-form-label">State: </label>
										<div class="col-sm-8">
											<input type="text" name="sc_room" id="sc_room" placeholder="CA">
										</div>
									</div>

									<div class="form-group row">
										<label for="sc_room" class="col-sm-4 col-form-label">Zip: </label>
										<div class="col-sm-8">
											<input type="text" name="sc_room" id="sc_room" placeholder="99999">
										</div>
									</div>
				
					<div class="inner-div text-center">
						<input type="button" class="btn btn-success" value="Add Site" onclick=addSite() >
					</div>
				</form>
			</div>

	    </div>
	    
	    <!-- Upper Right Quadrant: Special Component Results -->
	    <div class="col-6">

	    	{% for site in sites %}

	    		<div class="card" style="width: 60rem;">
				  
	    			<div class="card-header border">
				  <div class="row">
				  	
		  				<div class="col"> 
		  					
							    <b>Site {{site.site_id}}</b>: {{site.site_address}}
							  
		  				</div>
		  				<div class="col-2">
		  					<button class="btn-sm btn-warning">Edit Site Details</button> 
		  					
		  				</div>
		  				<div class="col-2">
		  					<button class="btn-sm btn-danger">Delete Site</button>
		  				</div>
	  				</div>
	  			</div>
				  <ul class="list-group list-group-flush">
				    <li class="list-group-item">

				    	<div class="container">
						  <div class="row">
						    <div>
						      Supervisor
						    </div>
						    <div class="col">

						    	<table class="table" >
								  <thead>
								    <tr>
								      <th scope="col">First</th>
								      <th scope="col">Last</th>
								      <th scope="col">ID</th>
								      <th scope="col">Email</th>
								      <th scope="col">Edit Details</th>
								      <th scope="col">Delete Employee</th>
								    </tr>
								  </thead>
								  <tbody>
								    {% for employee in employees %}
								    	{% if site.site_id == employee.employee_site_id and employee.employee_group == "supervisor" %}
									    	<tr>
											      <td>{{employee.employee_first_name}}</td>
											      <td>{{employee.employee_last_name}}</td>
											      <td>{{employee.employee_id}}</td>
											      <td>{{employee.employee_email}}</td>
											      <td><button class="btn-sm btn-warning">Edit</button></td>
												  <td><button class="btn-sm btn-danger">Delete</button></td>
									    	</tr>
								    	{% endif %}
								    {% endfor %}
								  </tbody>
								</table>
						    </div>
						  </div>
						</div>				    	
			
				
				    	</li>
				    <li class="list-group-item">

				    	<div class="container">
						  <div class="row">
						    <div>
						      Production Staff
						    </div>
						    <div class="col">

						    	<table class="table">
								  <thead>
								    <tr>
								      <th scope="col">First</th>
								      <th scope="col">Last</th>
								      <th scope="col">ID</th>
								      <th scope="col">Email</th>
								      <th scope="col">Edit Details</th>
								      <th scope="col">Delete Employee</th>
								    </tr>
								  </thead>
								  <tbody>
								    {% for employee in employees %}
								    	{% if employee.employee_group == "production" and site.site_id == employee.employee_site_id %}
									    	<tr>
											      <td>{{employee.employee_first_name}}</td>
											      <td>{{employee.employee_last_name}}</td>
											      <td>{{employee.employee_id}}</td>
											      <td>{{employee.employee_email}}</td>
											      <td><button class="btn-sm btn-warning">Edit</button></td>
												  <td><button class="btn-sm btn-danger">Delete</button></td>
									    	</tr>
								    	{% endif %}
								    {% endfor %}
								  </tbody>
								</table>
						    </div>
						  </div>
						</div>


				    	<p></p>
				
				    </li>
				  </ul>
				</div>


	    		
						

			{% endfor %}
	    
	    </div>

	  </div>

</div>
{% endblock %}