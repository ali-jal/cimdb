<!-- Links to 'base_logged_in.html' as a base template file (which inherits from the base.html) -->
{% extends 'base_logged_in.html' %}

<!-- Title of the page -->
{% block title %} Assembly{% endblock%}


{% block body %} 

<!-- add new form -->
<div class="intro-div">
	<div class="two-column">
			<div class="information">
				<h2>Assembly Line</h2>
				<p> Your supervisor has assigned you to assemble the following products.</p>
				<p> The components requires to assemble each product can be reviewed using the <b>Details</b> button.</p>
				<p> Once the product is assembled, update the pruduct status by using the <b>Send to QC</b> button.</p>
				<p> Component inventory will be updated automatically when a product has been assembled.</p>
				<p> You can order components from the Inventory Tab in the Navbar above.</p>
				<!-- <p> In the case of any problems, notify your supervisor by the <b>Report</b> button.</p> -->
			</div>

			<div class="process-overview">
				<p>Product Assembly Process Overview</p>
				<ul class="list-group">
					<li class="list-group-item active" aria-current="true">1. Assembly</li>
					<li class="list-group-item">2. QC</li>
					<li class="list-group-item">3.Shipping</li>
				</ul>
			</div>
		</div>
	</div>
</div>


<div id="data-filtering">
	<h3>Filter Products</h3>
	<p>The list of displayed products can be filtered using the form below:</p>

	<form id="assembly-data-filter" action="">

		<div class="inner-div">
			<label for="wo_id">Work Order ID:</label>
			<input type="text" name="wo_id" id="wo_id" placeholder="wo_id">
			
			<label for="wo_open_date">Work Order Open Date: </label>
			<input type="date" name="wo_open_date" id="wo_open_date">
		
        </div>
        
        <div class="inner-div">
            <label for="product_sn">Product SN:</label>
			<input type="text" name="product_sn" id="product_sn" placeholder="product_sn">

			
			<label for="product_family">Product Family:</label>
			<select class="custom-select" id="product_family" required>
				<option selected>Select Family:</option>
				{% for product in products_catalog %}
					<option>{{product}}</option>
				{% endfor %}
			</select>
	
			<label for="product_pn">Product Part Number: </label>
			<select class="custom-select" id="product_pn">
				<option selected>Select Family First:</option>
				{% for product in products_catalog %}
					<option>{{product}}</option>
				{% endfor %}
			</select>
		
		</div>
				
		<div class="inner-div">
			<input type="button" class="btn btn-primary" value="Filter" onclick=addData() >
			<input type="button" class="btn btn-primary" value="Clear Filters" onclick=clear() >
		</div>
	</form>
</div>



<!-- dummy content for demo --will be replaced -->
<div id="results">
	<table class="table table-striped" >
		<tr>
			<th>Work Order ID</th>
			<th>Work Order Open Date</th>
			<th>Product Serial Number</th>
			<th>Product Family</th>
			<th>Product Part Number</th>
			<th>Details</th>
			<th>Assembled?</th>
			<!-- <th>Problem?</th> -->
		</tr>

		{% for product in assembly_list %}
			<tr>
				<td>{{product.wo_id}}</td>
				<td>{{product.wo_open_date}}</td>
				<td>{{product.product_sn}}</td>
				<td>{{product.product_family}}</td>
				<td>{{product.product_pn}}</td>
				<td><button class="btn btn-secondary" onclick=components_info("{{product.product_sn}}")>Details</td>
				<th><button class="btn btn-info" onclick=assemble_product("{{product.product_sn}}")>Send to QC</button></th>
				<!-- <td><button class="btn btn-dark" onclick=report_product("{{product.product_sn}}")>Report</button></td> -->
			</tr>
		{% endfor %}
			
	</table>
	
</div>

<script src="{{ url_for('static', filename='js/assembly.js') }}"></script>

{% endblock%}



