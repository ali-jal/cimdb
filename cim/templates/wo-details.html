<!-- Links to 'base_logged_in.html' as a base template file (which inherits from the base.html) -->
{% extends 'base_logged_in.html' %}

<!-- Title of the page -->
{% block title %} Work Order Details{% endblock%}


{% block body %} 

<div class='intro-div'>
	<div class="two-column">
		<div class="information">
			<h3>Manage Work Order Details</h3>
			<h5 class="access-level">This page requires supervisor-level access permission</h5>
			<p>Manage (View, Add, Edit and Delete) products in a Work Order</p>
			<button type="button" class="btn btn-light" onclick=go_back()>Back to Work Orders</button>
		</div>

		<div class="process-overview">
			<p>Work Order Process Overview</p>
			<ul class="list-group">
				<li class="list-group-item " >1. Work Order</li>
				<li class="list-group-item active" aria-current="true">2. Products list</li>
				<li class="list-group-item">3. Components list</li>
			</ul>
		</div>
	</div>
</div>


<!-- add new form -->


<div class='intro-div'>
	<div class="two-column">
		<div id="data-entry-div">
			<h3>Update Products in Work Order <b>{{wo_id}} </b></h3>
			<h4>Add a New Product</h4>
			<p>Add new product to this order. You will be redirecterd to
				a new page to enter components information for the new product</p>
		
			<form id="product-data-entry" action="">
				<div class="inner-div">
					<label for="product_family">Product Family:</label>
					<select class="custom-select" id="product_family" required>
						<option selected>Select Family:</option>
						{% for product in products_catalog %}
							<option>{{product}}</option>
						{% endfor %}
					</select>
			
					<select class="custom-select" id="product_pn">
						<option selected>Select Family First:</option>
						{% for product in products_catalog %}
							<option>{{product}}</option>
						{% endfor %}
					</select>
				</div>
		
				<div class="inner-div">
					<input type="button" class="btn btn-success" value="Add New Product" onclick=addData() >
				</div>
			</form>
		</div>

		<div class="information">
			<h3>Open Another Work Order</h3>
			<p>Open the product list of another Work Order using the form below:</p>

			<div class="inner-div">
				<form action="">
					<label for="wo_id">Work Order ID:</label>
					<input type="text" name="wo_id" id="wo_id_reload" placeholder="wo_id">

					<input type="button" class="btn btn-success" value="Refresh" onclick=reload_workorder()>
					
				</form>				
			</div>
			
			<p> example: 879845</p>
		</div>

	</div>
</div>

<!-- dummy content for demo --will be replaced -->
<div id="results">
	<table class="table table-striped" >
		<tr>
			<th>Serial Number</th>
			<th>Family</th>
            <th>Part Number</th>
            <th>Status</th>
			<th>Assembly Date</th>
			<th>QC Date</th>
            <th>Warranty Date</th>
            <th>Employee</th>
            <th>Location</th>
            <th>Special Comp. SN</th>
			<th>Components</th>
			<th>Edit</th>
			<th>Delete</th>
			
			{% for product in products %}
				<tr>
					<td>{{product.product_sn}}</td>
					<td>{{product.product_family}}</td>
					<td>{{product.product_pn}}</td>
					<td>{{product.product_status}}</td>
					<td>{{product.product_date_of_assembly}}</td>
					<td>{{product.product_qc_date}}</td>
					<td>{{product.product_warranty_expiration_date}}</td>
					<td>{{product.product_employee_id}}</td>
					<td>{{product.product_location_id}}</td>
					<td>{{product.product_sc_sn}}</td>
					<td><button class="btn btn-secondary" onclick=components_info("{{product.product_sn}}")>info</button></td>
					<td><button class="btn btn-warning" onclick=edit_product_info("{{product.product_sn}}")>Edit</button></td>
					<td><button class="btn btn-danger" onclick=delete_product("{{product.product_sn}}")>Delete</button></td>
				</tr>
			{% endfor %}
			
			
		
		
	</table>
	
</div>

<script src="{{ url_for('static', filename='js/wo-details.js') }}"></script>

{% endblock%}



