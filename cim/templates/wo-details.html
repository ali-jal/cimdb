<!-- Links to 'base_logged_in.html' as a base template file (which inherits from the base.html) -->
{% extends 'base_logged_in.html' %}

<!-- Title of the page -->
{% block title %} Workorder Details{% endblock%}


{% block body %} 

<div class='intro-div'>
	<div class="two-column">
		<div class="information">
			<h3>Manage Work Order Details</h3>
			<h5 class="access-level">This page requires supervisor-level access permission</h5>
			<p>Manage(View, Add , Edit and Delete) products in a WorkOrder</p>
			<button type="button" class="btn btn-light">Back to Workorders</button>
		</div>

		<div class="process-overview">
			<p>Workorder Process Overview</p>
			<ul class="list-group">
				<li class="list-group-item " >1. Workorder</li>
				<li class="list-group-item active" aria-current="true">2. Products list</li>
				<li class="list-group-item">3. Components list</li>
			</ul>
		</div>
	</div>
</div>


<!-- add new form -->


<div class='intro-div'>
	<div class="two-column">
		<div id="data-entry-div">
			<h3>Update Products in Workorder <b>{{wo_id}} </b></h3>
			<h4>Add a New Product</h4>
			<p>Add new product to this order. You will be redirecterd to
				a new page to enter componenets information for the new product</p>
		
			<form id="product-data-entry" action="">
				<div class="inner-div">
					<label for="product_family">Product Family:</label>
					<select class="custom-select" id="product_family" required>
						{% for product in products_catalog %}
							<option>{{product}}</option>
						{% endfor %}
					</select>
			
					<select class="custom-select" id="product_pn" required>
						<option selected>Part Number: </option>
						{% for product in products_catalog %}
							<option>{{product}}</option>
						{% endfor %}
					</select>
				</div>
		
				<div class="inner-div">
					<input type="button" class="btn btn-success" value="Add New Product" onclick=addData() >
				</div>
			</form>
		</div>

		<div class="information">
			<h3>Open another workorder</h3>
			<p>Open another workorder products list using the form below:</p>

			<div class="inner-div">
				<form action="">
					<label for="wo_id">Workorder ID:</label>
					<input type="text" name="wo_id" id="wo_id_reload" placeholder="wo_id">

					<input type="button" class="btn btn-success" value="Refresh" onclick=reload_workorder()>
					
				</form>				
			</div>
						
		</div>

	</div>
</div>

<!-- dummy content for demo --will be replaced -->
<div id="results">
	<table class="table table-striped" >
		<tr>
			<th>Serial Number</th>
			<th>Family</th>
            <th>Part Number</th>
            <th>Status</th>
			<th>Assembly Date</th>
			<th>QC Date</th>
            <th>Waranty Date</th>
            <th>Employee</th>
            <th>Location</th>
            <th>Special Comp. SN</th>
			<th>Components</th>
			<th>Edit</th>
			<th>Delete</th>
			
			{% for product in products %}
				<tr>
					<td>{{product.product_sn}}</td>
					<td>{{product.product_family}}</td>
					<td>{{product.product_pn}}</td>
					<td>{{product.product_status}}</td>
					<td>{{product.product_date_of_assembly}}</td>
					<td>{{product.product_qc_date}}</td>
					<td>{{product.product_warranty_expiration_date}}</td>
					<td>{{product.product_employee_id}}</td>
					<td>{{product.product_location_id}}</td>
					<td>{{product.product_sc_sn}}</td>
					<td><button class="btn btn-secondary"><a href="\product-details">info (demo)</a> </button></td>
					<td><button class="btn btn-warning">Edit</button></td>
					<td><button class="btn btn-danger">Delete</button></td>
				</tr>
			{% endfor %}
			
		
		<tr>
			<td>P1000</td>
			<td>Baic</td>
            <td>Baic-i3</td>
            <td>QC</td>
			<td>2020-12-05</td>
			<td>Null</td>
            <td>Null</td>
            <td>50</td>
            <td>12</td>
            <td>123654</td>
			<td><button class="btn btn-secondary"><a href="\product-details">info (demo)</a> </button></td>
			<td><button class="btn btn-warning">Edit</button></td>
			<td><button class="btn btn-danger">Delete</button></td>
		</tr>

		<tr>
			<td>P2000</td>
			<td>Pro</td>
            <td>Pro-i7</td>
            <td>shipping</td>
			<td>2020-12-05</td>
			<td>2020-12-05</td>
            <td>Null</td>
            <td>50</td>
            <td>12</td>
            <td>36521</td>
			<td><button class="btn btn-secondary">info</button></td>
			<td><button class="btn btn-warning">Edit</button></td>
			<td><button class="btn btn-danger">Delete</button></td>
		</tr>
		
	</table>
	
</div>

<script src="{{ url_for('static', filename='js/wo-details.js') }}"></script>

{% endblock%}



